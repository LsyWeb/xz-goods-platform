(function(e){function t(t){for(var r,u,c=t[0],l=t[1],i=t[2],d=0,f=[];d<c.length;d++)u=c[d],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&f.push(o[u][0]),o[u]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(f.length)f.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={app:0},a=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var s=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0448":function(e,t,n){},"48d6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t){var n=Object(r["E"])("router-view");return Object(r["y"])(),Object(r["f"])(n)}n("6f07");var a=n("d959"),u=n.n(a);const c={},l=u()(c,[["render",o]]);var i=l,s=n("6c02"),d=(n("b0c0"),function(e){return Object(r["B"])("data-v-3c5467cc"),e=e(),Object(r["z"])(),e}),f={class:"home-container"},m=d((function(){return Object(r["i"])("h2",null,"信工院急需物品采购平台",-1)})),b=Object(r["j"])("生活用品"),p=Object(r["j"])("药品"),j={class:"preview-cover van-ellipsis"},O={style:{margin:"16px"}},g=Object(r["j"])(" 提交 ");function h(e,t,n,o,a,u){var c=Object(r["E"])("van-notice-bar"),l=Object(r["E"])("van-field"),i=Object(r["E"])("van-picker"),s=Object(r["E"])("van-popup"),d=Object(r["E"])("van-radio"),h=Object(r["E"])("van-radio-group"),v=Object(r["E"])("van-stepper"),k=Object(r["E"])("van-cell-group"),y=Object(r["E"])("van-uploader"),w=Object(r["E"])("van-button"),D=Object(r["E"])("van-form");return Object(r["y"])(),Object(r["h"])(r["a"],null,[Object(r["k"])(c,{"left-icon":"volume-o",text:o.notice},null,8,["text"]),Object(r["i"])("div",f,[m,Object(r["k"])(D,{class:"form-container",onSubmit:o.onSubmit},{default:Object(r["L"])((function(){return[Object(r["k"])(k,{inset:""},{default:Object(r["L"])((function(){return[Object(r["k"])(l,{modelValue:o.formData.building,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.formData.building=e}),"is-link":"",readonly:"",name:"building",label:"寝室楼",placeholder:"点击选择寝室楼",required:"",rules:[{required:!0,message:"请选择寝室楼"}],onClick:t[1]||(t[1]=function(e){return o.showPicker=!0})},null,8,["modelValue"]),Object(r["k"])(s,{show:o.showPicker,"onUpdate:show":t[4]||(t[4]=function(e){return o.showPicker=e}),position:"bottom"},{default:Object(r["L"])((function(){return[Object(r["k"])(i,{columns:o.pickerColumns,onConfirm:t[2]||(t[2]=function(e){o.formData.building=e,o.showPicker=!1}),onCancel:t[3]||(t[3]=function(e){return o.showPicker=!1})},null,8,["columns"])]})),_:1},8,["show"]),Object(r["k"])(l,{modelValue:o.formData.house,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.formData.house=e}),name:"house",label:"寝室号",placeholder:"请填写寝室号",required:"",rules:[{required:!0,message:"请填写寝室号"}]},null,8,["modelValue"]),Object(r["k"])(l,{modelValue:o.formData.name,"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.formData.name=e}),name:"name",label:"姓名",placeholder:"请填写姓名",required:"",rules:[{required:!0,message:"请填写姓名"}]},null,8,["modelValue"]),Object(r["k"])(l,{modelValue:o.formData.phone,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.formData.phone=e}),type:"phone",name:"phone",label:"手机号",placeholder:"请填写手机号",required:"",rules:[{required:!0,message:"请填写手机号"},{pattern:/^1\d{10}$/,message:"请填写正确的手机号"}]},null,8,["modelValue"]),Object(r["k"])(l,{modelValue:o.formData.goodsregion,"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.formData.goodsregion=e}),name:"goodsregion",label:"类型",placeholder:"请选择类型",required:"",rules:[{required:!0,message:"请选择类型"}]},{input:Object(r["L"])((function(){return[Object(r["k"])(h,{modelValue:o.formData.goodsregion,"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.formData.goodsregion=e}),direction:"horizontal"},{default:Object(r["L"])((function(){return[Object(r["k"])(d,{name:"1"},{default:Object(r["L"])((function(){return[b]})),_:1}),Object(r["k"])(d,{name:"2"},{default:Object(r["L"])((function(){return[p]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"]),"2"===o.formData.goodsregion?(Object(r["y"])(),Object(r["f"])(l,{key:0,modelValue:o.formData.drug,"onUpdate:modelValue":t[10]||(t[10]=function(e){return o.formData.drug=e}),name:"drug",label:"药品",placeholder:"请填写药品名称",required:"",rules:[{required:!0,message:"请填写药品名称"}]},null,8,["modelValue"])):Object(r["g"])("",!0),"1"===o.formData.goodsregion?(Object(r["y"])(),Object(r["f"])(l,{key:1,modelValue:o.formData.goodsname,"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.formData.goodsname=e}),"is-link":"",readonly:"",name:"goodsname",label:"生活用品",placeholder:"请选择生活用品",required:"",rules:[{required:!0,message:"请选择生活用品"}],onClick:t[12]||(t[12]=function(e){return o.lifeShowPicker=!0})},null,8,["modelValue"])):Object(r["g"])("",!0),Object(r["k"])(s,{show:o.lifeShowPicker,"onUpdate:show":t[15]||(t[15]=function(e){return o.lifeShowPicker=e}),position:"bottom"},{default:Object(r["L"])((function(){return[Object(r["k"])(i,{columns:o.lifeGoodsColumns,onConfirm:t[13]||(t[13]=function(e){o.formData.goodsname=e,o.lifeShowPicker=!1}),onCancel:t[14]||(t[14]=function(e){return o.lifeShowPicker=!1})},null,8,["columns"])]})),_:1},8,["show"]),Object(r["k"])(l,{modelValue:o.formData.num,"onUpdate:modelValue":t[17]||(t[17]=function(e){return o.formData.num=e}),name:"num",label:"数量"},{input:Object(r["L"])((function(){return[Object(r["k"])(v,{modelValue:o.formData.num,"onUpdate:modelValue":t[16]||(t[16]=function(e){return o.formData.num=e}),max:6},null,8,["modelValue"])]})),_:1},8,["modelValue"]),Object(r["k"])(l,{modelValue:o.formData.remarks,"onUpdate:modelValue":t[18]||(t[18]=function(e){return o.formData.remarks=e}),type:"textarea",name:"remarks",label:"备注",placeholder:"请填写备注",autosize:""},null,8,["modelValue"])]})),_:1}),"2"===o.formData.goodsregion?(Object(r["y"])(),Object(r["f"])(k,{key:0,inset:"",title:"购买药品必须要上传手写证明"},{default:Object(r["L"])((function(){return["2"===o.formData.goodsregion?(Object(r["y"])(),Object(r["f"])(l,{key:0,name:"images",label:"图片上传",required:"",rules:[{required:!0,message:"请上传图片"}]},{input:Object(r["L"])((function(){return[Object(r["k"])(y,{modelValue:o.formData.images,"onUpdate:modelValue":t[19]||(t[19]=function(e){return o.formData.images=e}),"max-count":1,multiple:!1,"before-read":o.onBeforeUpload,"after-read":o.onAfterUpload},{"preview-cover":Object(r["L"])((function(e){var t=e.file;return[Object(r["i"])("div",j,Object(r["H"])(t.name),1)]})),_:1},8,["modelValue","before-read","after-read"])]})),_:1})):Object(r["g"])("",!0)]})),_:1})):Object(r["g"])("",!0),Object(r["i"])("div",O,[Object(r["k"])(w,{round:"",block:"",type:"primary","native-type":"submit"},{default:Object(r["L"])((function(){return[g]})),_:1})])]})),_:1},8,["onSubmit"])])],64)}var v=n("5530"),k=n("1da1"),y=(n("96cf"),n("626a")),w=n("bc3a"),D=n.n(w);function V(){return _.apply(this,arguments)}function _(){return _=Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.post("/goods/v2/addStudent",{building:"桃1",house:"fddsf",name:"xiaoliu",phone:"sdf",num:7,goodsregion:"",goodsname:"卫生巾",remarks:"fds",img:""}));case 1:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function x(e){return P.apply(this,arguments)}function P(){return P=Object(k["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.post("/goods/v2/upload",t,{headers:{"Content-Type":"multipart/form-data"}}));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}var U={name:"Home",setup:function(){for(var e=Object(s["c"])(),t=Object(r["D"])("疫情之下物品来之不易 请同学们按需如实填写！"),n=Object(r["C"])({building:"",house:"",phone:"",name:"",goodsregion:"1",drug:"",goodsname:"",num:1,remarks:"",img:"",images:[]}),o=Object(r["D"])(!1),a=[],u=1;u<8;u++)a.push("桃".concat(u));var c=Object(r["D"])(a),l=Object(r["D"])(!1),i=Object(r["D"])(["毛巾","香皂","洗衣粉","牙膏","牙刷","洗发水","卫生巾","卫生纸","口罩10片装"]),d=function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(r){var o,a,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(v["a"])({},n),"2"===r.goodsregion&&(a.goodsname=r.drug),delete a.drug,a.num=+r.num,delete a.images,y["a"].loading({message:"提交中...",forbidClick:!0}),t.next=8,V(a);case 8:u=t.sent,null!==(o=u.data)&&void 0!==o&&o.success?(y["a"].success("提交成功"),e.push("/result")):y["a"].fail("提交失败");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(e){return"image/jpeg"===e.type||"image/png"===e.type||(Object(y["a"])("请上传 jpg/png 格式图片"),!1)},m=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(t){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new FormData,o.append("myfile",t.file),e.next=4,x(o);case 4:a=e.sent,null!==(r=a.data)&&void 0!==r&&r.success?(n.img=a.data.data.url,t.status="success",Object(y["a"])("上传成功")):(t.status="failed",t.message="上传失败",Object(y["a"])("上传失败"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{notice:t,formData:n,showPicker:o,pickerColumns:c,lifeGoodsColumns:i,lifeShowPicker:l,onSubmit:d,onBeforeUpload:f,onAfterUpload:m}}};n("c2a9");const q=u()(U,[["render",h],["__scopeId","data-v-3c5467cc"]]);var S=q,C={class:"result-container"},E=Object(r["i"])("h2",null,"信工院急需物品采购平台",-1),L=Object(r["i"])("h3",null,"提交成功",-1),R=Object(r["i"])("h4",null,"我们会尽快把所需物品送到您的手上",-1),z={class:"btn"},M=Object(r["j"])(" 返回");function B(e,t,n,o,a,u){var c=Object(r["E"])("van-icon"),l=Object(r["E"])("van-button");return Object(r["y"])(),Object(r["h"])("div",C,[E,Object(r["k"])(c,{name:"passed",color:"#1989fa",size:80}),L,R,Object(r["i"])("div",z,[Object(r["k"])(l,{round:"",block:"",type:"primary",onClick:t[0]||(t[0]=function(t){return e.$router.push("/")})},{default:Object(r["L"])((function(){return[M]})),_:1})])])}var H={};n("a658");const T=u()(H,[["render",B]]);var A=T,G=[{path:"/",name:"Home",component:S},{path:"/result",name:"Result",component:A}],J=Object(s["a"])({base:"/goods/",history:Object(s["b"])(""),routes:G}),$=J,F=n("5502"),I=Object(F["a"])({state:{},mutations:{},actions:{},modules:{}}),K=n("772a"),N=n("565f"),Q=n("34e9"),W=n("b650"),X=n("e41f"),Y=n("f253"),Z=n("8f80"),ee=n("9f14"),te=n("e27c"),ne=n("20fb"),re=n("ad06"),oe=n("a37c");n("157a");Object(r["e"])(i).use(I).use($).use(K["a"]).use(N["a"]).use(Q["a"]).use(W["a"]).use(X["a"]).use(Y["a"]).use(Z["a"]).use(ee["a"]).use(te["a"]).use(ne["a"]).use(re["a"]).use(oe["a"]).mount("#app")},"6f07":function(e,t,n){"use strict";n("48d6")},a658:function(e,t,n){"use strict";n("d25b")},c2a9:function(e,t,n){"use strict";n("0448")},d25b:function(e,t,n){}});
//# sourceMappingURL=app.2974d96f.js.map